CREATE TABLE IF NOT EXISTS products (
id INT AUTO_INCREMENT PRIMARY KEY,
title VARCHAR(120) NOT NULL,
price DECIMAL(3, 2) NOT NULL,
photoUrl VARCHAR(512),
description TEXT
);

CREATE TABLE IF NOT EXISTS orders (
id INT AUTO_INCREMENT PRIMARY KEY,
orderNumber INT AUTO_INCREMENT,
totalPrice DECIMAL(10, 2) NOT NULL,
createdAt DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL,
updatedAt DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,
status ENUM('Processing', 'Done') NOT NULL
);

CREATE TABLE IF NOT EXISTS order_items (
id INT AUTO_INCREMENT PRIMARY KEY,
produtctId INT NOT NULL,
orderId INT NOT NULL,
quantity INT NOT NULL,
price DECIMAL(3, 2) NOT NULL,
amount  DECIMAL(10, 2) NOT NULL,
FOREIGN KEY (productId) REFERENCES products(id),
FOREIGN KEY (orderId) REFERENCES orders(id)
);

CREATE TABLE IF NOT EXISTS users (
id INT AUTO_INCREMENT PRIMARY KEY,
username VARCHAR(120) NOT NULL,
first_name VARCHAR(120) NOT NULL,
last_name VARCHAR(120) NOT NULL,
password VARCHAR(120) NOT NULL,
CONSTRAINT unique_users_username UNIQUE (username)
);

